window.DivPrinter=function(){"use strict";function e(){this.queue=[],this.getLength=function(){return this.queue.length},this.add=function(e){"function"==typeof e&&this.queue.push(e)},this.one=function(){this.queue.length>0&&this.queue.shift()()},this.all=function(){for(;this.queue.length>0;)this.queue.shift()()}}function t(t){this._source=document.querySelector(t),this._queue={before:new e,after:new e}}var n={BODY:"DIVPRINTER__BODY",PARENT:"DIVPRINTER__PARENT",PRINT:"DIVPRINTER__PRINT"},r="/*PRINTING DIV CSS*/\n@media print{body."+n.BODY+" > :not(."+n.PRINT+"),body."+n.BODY+" ."+n.PARENT+" > :not(."+n.PRINT+"){display: none !important;}}",s=document.createElement("style");s.styleSheet?s.styleSheet.cssText=r:s.appendChild(document.createTextNode(r));var a=document.head||document.getElementsByTagName("head")[0];a.appendChild(s);var o={vars:{currentClass:void 0,printerQueue:new e},fn:{hasClass:function(e,t){return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){o.fn.hasClass(e,t)||(e.className=(e.className+" "+t).trim())},removeClass:function(e,t){if(o.fn.hasClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").trim()}}}},i={before:function(){o.vars.currentClass&&(u.printerClasses.add.call(o.vars.currentClass),o.fn.addClass(document.body,n.BODY),o.vars.currentClass._queue.before.all())},after:function(){o.vars.currentClass&&(o.fn.removeClass(document.body,n.BODY),u.printerClasses.remove.call(o.vars.currentClass),o.vars.currentClass._queue.after.all(),o.vars.currentClass=void 0,o.vars.printerQueue.one())}};window.matchMedia&&window.matchMedia("print").addListener(function(e){e.matches?i.before():i.after()}),window.addEventListener("beforeprint",i.before,!1),window.addEventListener("afterprint",i.after,!1);var u={printerClasses:{add:function(){var e=this._source;for(o.fn.addClass(e,n.PRINT);e.parentNode&&e.parentNode!==document.body;)e=e.parentNode,o.fn.addClass(e,n.PARENT),o.fn.addClass(e,n.PRINT)},remove:function(){var e=this._source;for(o.fn.removeClass(e,n.PRINT);e.parentNode&&e.parentNode!==document.body;)e=e.parentNode,o.fn.removeClass(e,n.PARENT),o.fn.removeClass(e,n.PRINT)}}};return t.prototype.print=function(){if(o.vars.currentClass){console.log("There is a print job open... adding to printing queue.");var e=this;o.vars.printerQueue.add(function(){e.print()})}else o.vars.currentClass=this,window.print();return this},t.prototype.beforePrint=function(e){return this._queue.before.add(e),this},t.prototype.afterPrint=function(e){return this._queue.after.add(e),this},t}();